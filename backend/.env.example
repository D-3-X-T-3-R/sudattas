# ============================================================
# Sudattas Backend â€” Environment Variables
# Copy this file to the relevant service directory as .env
# and fill in real values. Never commit .env with real secrets.
# ============================================================

# ----- Database (required by core_db_entities / core_operations) -----
# Full MySQL connection string
DATABASE_URL=mysql://user:password@host:3306/SUDATTAS

# ----- gRPC (required) -----
# Address the gRPC server binds to (core_operations)
GRPC_SERVER=0.0.0.0:50051

# Address the GraphQL service uses to reach the gRPC server (graphql)
GRPC_URL=http://localhost:50051

# ----- OAuth / JWT (required by graphql) -----
# Auth0 (or compatible OIDC) domain, including trailing slash
RAZORPAY_WEBHOOK_SECRET=your_razorpay_webhook_secret_here

OAUTH_DOMAIN=https://your-tenant.eu.auth0.com/

# Audience for JWT validation (note: OAUTH_AUDIANCE is also accepted for compatibility)
OAUTH_AUDIENCE=https://your-tenant.eu.auth0.com/api/v2/

# ----- Redis / Session (optional) -----
# If set, Redis is used for session management; omit to disable sessions
REDIS_URL=redis://127.0.0.1:6379

# ----- Cloudflare R2 / Image storage (required if using image upload) -----
R2_ACCOUNT_ID=your-account-id
R2_ACCESS_KEY_ID=your-access-key-id
R2_SECRET_ACCESS_KEY=your-secret-access-key
R2_ENDPOINT=https://<account-id>.r2.cloudflarestorage.com
R2_BUCKET_NAME=sudattas-images
R2_PUBLIC_URL=https://images.yourdomain.com

# Max upload size in MB (default: 10)
MAX_IMAGE_SIZE_MB=10

# ----- Logging -----
# Tracing filter for GraphQL service
RUST_LOG=info
